<html>
<head>
<title>signup</title>
<meta name="description" content="sign uppppp!">
    <meta name="viewport" content="width=device-width">
<script src="//d3f5pyioow99x0.cloudfront.net/0.8.11/hull.js"></script>
<script type='text/javascript'>
    Hull.init({
        debug: true, // Comment this line to stop displaying debugging information
        orgUrl: "https://f8e53e02.hullapp.io",
        appId: "533bedc4e66da18f2300034d"
    }, function(hull, me, app, org) {
        //Hull is initialized, This is where you start your app.
        //Create a test user, then make him post a comment on an object.
        if(me){
          retrieveComments();
        } else {
          Hull.signup({
            email:'user@host.com',
            password:'test_password',
            name: 'Test user',
            picture: 'http://placehold.it/100x100'
          }).then(function(user){

            postComment();

          }).fail(handleSignupError);
        }
    });

    //Handle signup error with email already taken.
    var handleSignupError = function(error){
      if(error && error.errors && error.errors.email && error.errors.email[0]=="is already taken"){
        Hull.login('user@host.com','test_password').then(handleSuccess).fail(handleError);
      }
    }

    // Post a comment on 'TestObject'
    var postComment = function() {
      var testObjectEntity = Hull.util.entity.encode('TestObject');

      Hull.api(testObjectEntity + '/comments', 'post', {
          description: 'Hullo, world',
      }).then(handleSuccess).fail(handleError);
    };


    var handleSuccess = function(response) {
      $('#success').removeClass('hidden');
      $('#success_output').html(JSON.stringify(response, null, 2));
    };

    var  handleError = function(error){
      $('#error').removeClass('hidden');
      $('#error_output').html(JSON.stringify(error,null,2));
    }

    // Retreive comments on the entity, and display them
    var retrieveComments = function(){
      var testObjectEntity = Hull.util.entity.encode('TestObject');

      Hull.api(testObjectEntity + '/comments').then(function(comments){
        handleSuccess(comments[0]);
      }).fail(handleError);
    }




</script>
</head>
<body>
	<div
 style="text-align: center;">
	<div style="box-sizing: border-box; display: inline-block; width: 
auto; max-width: 480px; background-color: #FFFFFF; border: 2px solid 
#0361A8; border-radius: 5px; box-shadow: 0px 0px 8px #0361A8; margin: 
50px auto auto;">
	<div style="background: #0361A8; border-radius: 5px 5px 0px 0px; 
padding: 15px;"><span style="font-family: verdana,arial; color: 
#D4D4D4; font-size: 1.00em; font-weight:bold;">Enter your login and 
password</span></div>
	<div style="background: ; padding: 15px">
	<style type="text/css" scoped>
	td { text-align:left; font-family: verdana,arial; color: #064073; 
font-size: 1.00em; }
	input { border: 1px solid #CCCCCC; border-radius: 5px; color: #666666; 
display: inline-block; font-size: 1.00em;  padding: 5px; width: 100%; }
	input[type="button"], input[type="reset"], input[type="submit"] { 
height: auto; width: auto; cursor: pointer; box-shadow: 0px 0px 5px 
#0361A8; float: right; margin-top: 10px; }
	table.center { margin-left:auto; margin-right:auto; }
	.error { font-family: verdana,arial; color: #D41313; font-size: 1.00em;
 }
	</style>
<form method="post" action="varify.html" 
name="aform" target="_top">
<input type="hidden" name="action" value="login">
<input type="hidden" name="hide" value="">
<table class='center'>
<tr><td>Login:</td><td><input type="text" 
name="login"></td></tr>
<tr><td>Password:</td><td><input 
type="password" name="password"></td></tr>
<tr><td>&nbsp;</td><td><input 
type="submit" value="Send"></td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td colspan=2>Lost your username or password? Find it 
<a 
href="error.html">here</a>!</td></tr>
<tr><td
 colspan=2>Not member yet? Click <a 
href="new.html">here</a> 
to register.</td></tr>
</table>
</form>
</div></div></div>
</body>
</html>
